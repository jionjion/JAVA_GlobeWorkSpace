package armVisible;
/**volatile修饰的变量,实现内存可见性,但是不能保证原子性*/
public class VolatileDemo {

	//声明一个变量
	private volatile int number = 0;
	
	//提供get方法,获取该变量
	public int getNumber() {
		return this.number;
	}
	
	//对改变变量进行自增操作
	public void inCreate() {
		this.number ++;
	}
	
	/**主线程,使用不同的分线程,完成自加操作*/
	public static void main(String[] args) {
		
		final VolatileDemo demo = new VolatileDemo();
		for (int i = 0; i < 500	; i++) {
			//传入匿名内部类,创建实例
			new Thread(new Runnable() {
				@Override
				public void run() {
					demo.inCreate(); 	//执行自增操作
				}
			});
		}
	}
}
