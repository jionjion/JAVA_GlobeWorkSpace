package xmlReadAndWriter.xmlWriter.sax;

import java.io.File;
import java.io.FileOutputStream;

import javax.xml.stream.events.Attribute;
import javax.xml.transform.*;
import javax.xml.transform.Result;
import javax.xml.transform.Transformer;
import javax.xml.transform.sax.SAXTransformerFactory;
import javax.xml.transform.sax.TransformerHandler;
import javax.xml.transform.stream.StreamResult;

import org.xml.sax.helpers.AttributesImpl;

/**	使用SAX方式,生成XML*/
public class WriteXmlBySax {

	public static void main(String[] args) throws Exception{
		
		//引入文件
		File xml = new File("src/xmlReadAndWriter/xmlWriter/Books.xml");
		
		//创建SAXTransformerFactory
		SAXTransformerFactory saxTransformerFactory = (SAXTransformerFactory) SAXTransformerFactory.newInstance();
		//创建TransformerHandler
		TransformerHandler transformerHandler = saxTransformerFactory.newTransformerHandler();
		//创建Transformer
		Transformer transformer = transformerHandler.getTransformer();
		//设置xml文件的属性
		transformer.setOutputProperty(OutputKeys.VERSION, "1.0");		//设置版本号
		transformer.setOutputProperty(OutputKeys.ENCODING, "UTF-8");	//设置编码
		transformer.setOutputProperty(OutputKeys.INDENT, "yes");		//设置换行
		//创建Result对象,使其与Handler关联
		Result result = new StreamResult(new FileOutputStream(xml));
		transformerHandler.setResult(result);
		transformerHandler.startDocument();		//打开文档,进行节点生成
		//创建属性
		AttributesImpl attributes =  new AttributeImpl();
		transformerHandler.startElement("", "", "bookstore", attributes);
		transformerHandler.endDocument(); 		//关闭文档
	}
}
